(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{378:function(t,e,r){"use strict";r.r(e);var s=r(42),a=Object(s.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h2",{attrs:{id:"_1-request-reply同步调用"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-request-reply同步调用"}},[t._v("#")]),t._v(" 1. Request-Reply同步调用")]),t._v(" "),r("p",[t._v("      \nRequest-Reply同步调用指的是请求方发出一条消息之后，需要响应方在消费完这条消息后回复一个响应结果。")]),t._v(" "),r("div",{attrs:{align:"center"}},[r("p",[r("img",{attrs:{src:"/images/features/RR-call-p1.png",alt:"RR"}})])]),t._v(" "),r("p",[t._v("整个调用过程包含了两个消息的产生和消费过程。"),r("br"),t._v(" "),r("strong",[t._v("1.请求方产生请求消息，服务响应方消费这条请求消息")]),r("br"),t._v("\n      \n请求方根据服务提供方的协议将请求内容设置到消息体中，并将消息发送到Broker上。服务响应方订阅相应的Topic，从Broker上获取到请求消息，并消费。")]),t._v(" "),r("p",[r("strong",[t._v("2.服务响应方产生响应消息，请求方接收这条响应消息")]),r("br"),t._v("\n      \n服务响应方收到请求消息后，执行相应的处理，并将请求结果设置到响应消息的消息体中，将响应消息发送到Broker上。请求方接收响应消息的方式采用的是Broker推送的形式，而不是由Producer订阅的方式，从而使得响应消息能够精准回到发出请求消息的实例上。")]),t._v(" "),r("p",[t._v("      \nDeFiBus在每条请求消息中增加REPLY_TO属性来唯一标识每一个请求方实例。在创建响应消息时将REPLY_TO属性透传到响应消息中。Broker收到响应消息后，根据REPLY_TO属性，查找出对应的请求方实例的连接，将响应消息推送给该请求方实例。")]),t._v(" "),r("hr"),t._v(" "),r("h4",{attrs:{id:"links"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#links"}},[t._v("#")]),t._v(" Links:")]),t._v(" "),r("ul",[r("li",[r("RouterLink",{attrs:{to:"/"}},[t._v("架构介绍")])],1),t._v(" "),r("li",[r("RouterLink",{attrs:{to:"/features/cn/features/1-request-response-call.html"}},[t._v("Request-Reply调用")])],1),t._v(" "),r("li",[r("RouterLink",{attrs:{to:"/features/cn/features/2-dark-launch.html"}},[t._v("灰度发布")])],1),t._v(" "),r("li",[r("RouterLink",{attrs:{to:"/features/cn/features/3-circuit-break-mechanism.html"}},[t._v("熔断机制")])],1),t._v(" "),r("li",[r("RouterLink",{attrs:{to:"/features/cn/features/4-invoke-service-nearby.html"}},[t._v("服务就近")])],1),t._v(" "),r("li",[r("RouterLink",{attrs:{to:"/features/cn/features/5-multi-active.html"}},[t._v("应用多活")])],1),t._v(" "),r("li",[r("RouterLink",{attrs:{to:"/features/cn/features/6-dynamic-adjust-queue.html"}},[t._v("动态扩缩队列")])],1),t._v(" "),r("li",[r("RouterLink",{attrs:{to:"/features/cn/features/8-fault-tolerant.html"}},[t._v("容错机制")])],1)])])}),[],!1,null,null,null);e.default=a.exports}}]);